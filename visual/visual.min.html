<!doctype html> <html> <head> <style>body{ white-space:pre;}</style> </head> <body> <canvas id="canvas" height="400" width="3000"></canvas> <script>function drawLine(t,e,n,r){context.moveTo(t,e),context.lineTo(n,r),context.stroke()}function wrapText(t,e,n,r,o,a){for(var i=e.split("\n"),d=0;d<i.length;d++){for(var f="",c=i[d].split(" "),l=0;l<c.length;l++){var x=f+c[l]+" ",s=t.measureText(x),v=s.width;v>o?(t.fillText(f,n,r),f=c[l]+" ",r+=a):f=x}t.fillText(f,n,r),r+=a}}function isInside(t,e,n,r,o,a){return t>n&&t<n+o&&e>r&&e<r+a}function drawText(t,e,n,r){context.font=n,wrapText(context,r,t,e,500,15)}function drawPoint(t,e,n){context.arc(t,e,n,0,2*Math.PI),context.fill()}function drawTree(t,e,n){var r=t.dist*units;drawLine(e,n,e+r,n),drawPoint(e,n,2);for(var o="",a=0;a<t.ends.length;a++)o+=t.ends[a].id+"\n";drawText(e+r+5,n+15,"12px Georgia",o),drawText(e+r/2,n+15,"12px Georgia",t.dist+"'"),drawPoint(e+r,n,2),e+=r;for(var a=0;a<t.children.length;a++){if(0!=a){var i=n;droplevel++,n=offsety+droplevel*drop,drawLine(e,i,e,n)}drawTree(t.children[a],e,n)}}function LoadJSON(t){drawTree(t,offsetx,offsety)}var canvas=document.getElementById("canvas"),context=canvas.getContext("2d"),units=8,drop=35,offsetx=30,offsety=30,droplevel=0;</script> <script>LoadJSON({dist:140,ends:[],children:[{dist:6,ends:[],children:[{dist:47,ends:[],children:[{dist:60,ends:[{id:"CAM1 CAT5",marker:696,asc:!1,len:0},{id:"CAM1 18/2",marker:55462,asc:!0,len:0}],children:[]},{dist:16,ends:[{id:"A114",marker:552,asc:!1,len:0}],children:[]}]},{dist:52,ends:[{id:"SIREN 3",marker:272,asc:!0,len:0}],children:[]}]},{dist:7,ends:[],children:[{dist:16,ends:[],children:[{dist:14,ends:[],children:[{dist:34,ends:[],children:[{dist:47,ends:[{id:"A113",marker:550,asc:!1,len:0}],children:[]}]},{dist:15,ends:[{id:"MUX/PTI2",marker:360,asc:!0,len:0}],children:[{dist:68,ends:[{id:"SIREN 1",marker:392,asc:!0,len:0}],children:[]}]}]},{dist:80,ends:[],children:[{dist:16,ends:[],children:[{dist:22,ends:[{id:"ALARM D",marker:16,asc:!0,len:0},{id:"INT1",marker:1002,asc:!1,len:0}],children:[]},{dist:36,ends:[{id:"SIREN 2",marker:10,asc:!0,len:0}],children:[]}]},{dist:36,ends:[{id:"CAM2 CAT5",marker:786,asc:!1,len:0},{id:"CAM2 18/2",marker:54476,asc:!0,len:0},{id:"A112",marker:832,asc:!1,len:0},{id:"PTI1",marker:478,asc:!0,len:0}],children:[]}]}]}]}]});</script> </body> </html> 
